# 第15章 《友元、异常和其他》 编程练习题之我解

## 15.1

**题：** 对Tv和Remote类做如下修改: 

a. 让它们互为友元; b.在Remote类中添加一个状态变量成员，该成员描述遥控器是处于常规模式还是互动模式;

c. 在Remote中添加一个显示模式的方法;

d. 在Tv类中添加一个对Remote中新成员进行切换的方法，该方法 应仅当TV处于打开状态时才能运行。

编写一个小程序来测试这些新特性。

## 15.2 

**题：** 修改程序清单15.11，使两种异常类型都是从头文件 `<stdexcept>` 提供的`logic_error` 类派生出来的类。让每个 `what()` 方法都报告函数名和问题的性质。异常对象不用存储错误的参数值，而只需支持 `what()` 方法。



## 15.3

**题：** 这个练习与编程练习2相同，但异常类是从一个这样的基类派生 而来的:它是从logic_error派生而来的，并存储两个参数值。异常类应 该有一个这样的方法:报告这些值以及函数名。程序使用一个catch块来 捕获基类异常，其中任何一种从该基类异常派生而来的异常都将导致循 环结束。

## 15.4

**题：** 程序清单15.16在每个try后面都使用两个catch块，以确保 nbad_index异常导致方法label_val( )被调用。请修改该程序，在每个try 块后面只使用一个catch块，并使用RTTI来确保合适时调用label_val( )。







