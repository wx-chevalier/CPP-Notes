# 第八章 《函数深探》 编程练习题之我解

## 8.1

**题：** 编写通常接受一个参数(字符串的地址)，并打印该字符串的函数。如果提供了第二个参数(int类型)，且该参数不为0，则该函数
打印字符串的次数将为该函数被调用的次数(注意，字符串的打印次数不等于第二个参数的值，而等于函数被调用的次数)。是的，这是一个非常可笑
的函数，但它让您能够使用本章介绍的一些技术。在一个简单的程序中使用该函数，以演示该函数是如何工作的。


## 8.2

**题：** CandyBar结构包含3个成员。第一个成员存储 `candy bar` 的品牌名称;第二个成员存储 `candy bar` 的重量(可能有小数);
第三个成员存储 `candy bar` 的热量(整数)。请编写一个程序，它使用一个这样的函数，即将 `CandyBar` 的引用、char指针、double
和 int 作为参数，并用最后3个值设置相应的结构成员。最后3个参数的默认值分别为 "Millennium Munch"、2.85和350。另外，该程序还
包含一个以 CandyBar 的引用为参数，并显示结构内容的函数。请尽可能使用 `const`。


## 8.3

**题：** 编写一个函数，它接受一个指向 `string` 对象的引用作为参数，并将该 `string` 对象的内容转换为大写，为此可使用表6.4描述
的函数 `toupper()`。然后编写一个程序，它通过使用一个循环让您能够用不同的输入来测试这个函数，该程序的运行情况如下:

```
 Enter a string (q to quit): gi away
 GO AWAY
 Next string (q to quit): good grief!
 GOOD GRIEF!
 Next string (q to quit): q
 Bye.
```

## 8.4

**题：** 下面是一个程序框架：

```Cpp
#include <iostream>
#include <cstring>

using namespace std;

struct stringy {
    char *str;
    int ct;
};

int main() {
    stringy beany;
    char testing[] = "Reality isn't what it used to be.";

    set(beany, testing);
    show(beany);
    show(beany, 2);
    testing[0] = 'D';
    testing[1] = 'u';
    show(testing);
    show(testing, 3);
    show("Done!");

    return 0;
}
```
请提供其中描述的函数和原型，从而完成该程序。注意，应有两个 `show()` 函数，每个都使用默认参数。请尽可能使用 `cosnt`参数。
`set()` 使用 `new` 分配足够的空间来存储指定的字符串。这里使用的技术与设计和实现类时使用的相似。(可能还必须修改头文件的名
称，删除using编译指令，这取决于所用的编译器。)


## 8.5

**题：** 编写模板函数 `max5()`，它将一个包含5个 T 类型元素的数组作为参数，并返回数组中最大的元素(由于长度固定，因此可以在循
环中使用硬编码，而不必通过参数来传递)。在一个程序中使用该函数，将 T 替换为一个包含5个 `int` 值的数组和一个包含5个 `double`
值的数组，以测试该函数。


## 8.6

**题：** 编写模板函数 `maxn()`，它将由一个 T 类型元素组成的数组和一个表示数组元素数目的整数作为参数，并返回数组中最大的元素。
在程序对它进行测试，该程序使用一个包含6个 int 元素的数组和一个包含4个 double 元素的数组来调用该函数。程序还包含一个具体化，它
将 char 指针数组和数组中的指针数量作为参数，并返回最长的字符串的地址。如果有多个这样的字符串，则返回其中第一个字符串的地址。使用
由5个字符串指针组成的数组来测试该具体化。


## 8.7

**题：** 修改程序清单 8.14，使其使用两个名为 `SumArray()` 的模板函数来返回数组元素的总和，而不是显示数组的内容。程序应显示
`thing`的总和以及所有 debt 的总和。





